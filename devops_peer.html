<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <title>Home</title>
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.14/components/button.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.14/components/button.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.14/components/message.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.0/components/label.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js"></script>
    <script src='https://www.google.com/recaptcha/api.js'></script>
    <style>
        .no-padd{
            padding: 0px !important;
        }
        html,
        body {
            height: 100%;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: buc;
        }

        b {
            font-family: buc-med;
        }

        a,
        p {
            font-family: buc;
        }

        input {
            position: relative;
            z-index: 999;
        }

        input:active,
        input:enabled,
        input:focus,
        input:not(.browser-default) {
            border-top-color: transparent;
            box-shadow: 0px 0px 0px 0px transparent !important;
        }

        canvas.particles-js-canvas-el {
            width: 99%;
            height: 100%;
            position: fixed;
            top: 0px;
            left: 0px;
            z-index: -1;
            display: block;
        }

        .row {
            position: relative;
            z-index: 10;
        }

        .carousel-slider img {
            width: 100%;
        }



        .myfont {
            font-family: buc;
        }

        @font-face {
            font-family: 'buc';
            src: url('myfont/Gotham-Light.otf');
        }

        @font-face {
            font-family: 'buc-bold';
            src: url('myfont/Gotham-BOld.otf');
        }

        @font-face {
            font-family: 'buc-med';
            src: url('myfont/GothamMedium.ttf');
        }




    </style>
    <script type="text/javascript">
        if (window.self !== window.top) {
            window.top.location.href = window.location.href;
        }
    </script>
</head>

<body class="">


    <!--NAVIGATION BAR-->
    <div class="navbar-fixed">
        <nav style="box-shadow: transparent 0px 0px 0px 0px !important; background: -webkit-linear-gradient(360deg, rgb(41, 171, 226) 0%, rgb(46, 49, 146) 100%);">
            <div class="nav-wrapper">
                <a href="#!" class="brand-logo myfont" style="padding-left:50px;font-weight:100;padding-top:10px;">
                    <img src="images/logo.png" alt="" style="width:18%;">
                </a>
                <a href="#" data-activates="slide-out" class="button-collapse show-on-large">
                    <i class="material-icons">menu</i>
                </a>
                <ul class="right hide-on-med-and-down">
                    <li>
                        <a href="" class="center">
                            <span style="border-right:1px solid #fff;height:40px;padding:10px;padding-right:30px">Listings</span>
                        </a>
                    </li>
                    <li>
                        <a href="" class="center">
                            <span style="border-right:1px solid #fff;height:40px;padding:10px;padding-right:30px">My Trade</span>
                        </a>
                    </li>
                    <li>
                        <a href="" class="center">
                            <span style="height:40px;padding:10px;margin-right:-20px;padding-right:30px">My Wallet</span>
                        </a>
                    </li>

                    <li>
                        <a href="" class="center">
                            <span style="border:1px solid #fff;height:40px;padding:15px;">Profile</span>
                        </a>
                    </li>


                </ul>
                <br>
            </div>
        </nav>
    </div>
    <!--SIDEBAR-->
    <ul id="slide-out" class="side-nav" style="width:250px;">
        <li>
            <a href="index.html">
                <i class="material-icons left">account_balance_wallet</i>Wallet</a>
        </li>
        <li>
            <a href="trade.html">
                <i class="material-icons left">shopping_cart</i>Trade</a>
        </li>
        <li>
            <a href="dentacoin.html">
                <i class="material-icons left">monetization_on</i>Dentacoin</a>
        </li>
        <li>
            <a href="rates.html">
                <i class="material-icons left">assessment</i>Rates</a>
        </li>
        <li>
            <a href="kyc.html">
                <i class="material-icons left">chrome_reader_mode</i>KYC</a>
        </li>
        <li>
            <a href="userinfo.html">
                <i class="material-icons left">account_circle</i>User Info</a>
        </li>
        <li>
            <a href="seller.html">
                <i class="material-icons left">pan_tool</i>Become Seller</a>
        </li>
        <li>
            <a href="">
                <i class="material-icons left">transfer_within_a_station</i>LogOut</a>
        </li>


    </ul>

    <div id="show-details-panel" class="row hide " style="width:100%;height:100%;position:fixed;z-index:9999999999999999999 !important;background-color:#304ffe54;">
            <div class="col s12" style="height:100px"></div>
            <div class="col s12">
                <div class="mytransition col l4 animated offset-l4 s10 offset-s1 white z-depth-5" style="position: relative;">
                    <div class="col s12">
                            <div onclick="closeDetPopup()" class="btn z-depth-0  right white black-text position-absolute" style="right:0px;"><i class="fas fa-times    "></i></div>
                        <center>
                            <div class="col s12"><br></div>
                            <h5 class="mrgt50px">DEPOSIT DETAILS</h5>
                            <div id="detbox" class="col s12 ">
                                
                            </div>
                            <div class="col s12"><br><br></div>
                        </center>
    
                    </div>
    
                </div>
            </div>
    </div>
   

    <div class="row hide" style="margin-top:60px;">
        <div class="col l10 offset-l1">
            <div class="col s3">
                    <div class="col s12"><h4><b>MATCHES</b></h4></div>
            </div>
            <div class="col s9">
                <div class="col s12"><h5><b>FILTER</b></h5></div>
                <div class="col s12">
                <div class="col s6">
                    By Status
                    <select  onchange="filterbyStatus($(this))" name="status_filter" id="status">
                            <option value="" disabled selected>Choose Status</option>
                            <option value="all">All</option>
                            <option value="PENDING">pending_for_withdrawls_accptenece</option>
                            <option value="WITHDRAW_ACCEPTED">waiting_for_depositer_paymement</option>
                            <option value="DEPOSIT_ACCEPTED">waiting_for_withdrwal_confimenation_of_payment</option>
                            <option value="DISPUTE">dispute</option>
                            <option value="WITHDRAW_COMPLETE">complete</option>
                          </select>
                </div>
                <div class="col s3" style="padding-top:15px;">
                        <input onchange="filterbyStatus($(this))" id="sdate" placeholder="START DATE" type="text" class="white black-text datepicker " style="padding:5px;border:1px solid black">
                    </div>
                    <div class="col s3" style="padding-top:15px;">
                        <input onchange="filterbyStatus($(this))" id="edate" placeholder="END DATE" type="text" class=" white black-text datepicker " style="padding:5px;border:1px solid black">
                    </div>
                </div>
                
            </div>
            <div class="col s12" id="mydactive" style="padding:20px;border:1px solid #eee;">
                <div class="col s12" style="border:1px solid #eee">
                    <div class="col s12" style="height:10px"></div>
                    <div class="col l2 s12">
                        <div class="ui label white">DATE</div>
                    </div>
                    <div class="col l2 s12">
                        <div class="ui label white">DESPOSITER</div>
                    </div>
                    <div class="col l2 s12">
                        <div class="ui label white">WITHDRAWER</div>
                    </div>
                    <div class="col l2 s12">
                        <div class="ui label white">MATCHED PRICE</div>
                    </div>
                    <div class="col l2 s12">
                        <div class="ui label white">STATUS</div>
                    </div>
                    <div class="col l2 s12">
                            <div class="ui label white">#</div>
                    </div>
                    
                    <div class="col s12" style="height:10px"></div>
                </div>
                <div id="allmatches" class="col s12" style="border:1px solid #eee;margin-top:20px;">
                    <div class="col s12" style="height:10px"></div>
                    <div class="col l2 s12">
                        <div class="ui label white">
                            <b class="black-text">11/01/2018</b>
                        </div>
                    </div>
                    <div class="col l3 s12">
                        <div class="ui label white">
                            <b class="black-text">john doe</b>
                        </div>
                    </div>
                    <div class="col l3 s12">
                        <div class="ui label white black-text">
                            <b>bery elem</b>
                        </div>
                    </div>
                    <div class="col l2 s12">
                        <div class="ui label white black-text">
                            300
                        </div>
                    </div>
                    <div class="col l2 s12">
                        <div class="ui label white black-text">
                            MATCHED
                        </div>
                    </div>
                    <div class="col l2 s12">
                        <div class="ui label white black-text">
                        
                        </div>
                    </div>
                    
                    <div class="col s12" style="height:10px"></div>
                </div>
            </div>
            
        </div>
    </div>
   
    {% extends "admin/base_real.html" %}

{% block title %}
{{super()}} Peer 2 Peer
{% endblock %}

{% block styles %}
    {{ super() }}
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/dataTables.material.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.1.0/material.min.css">

{% endblock styles %}

{% block content %}
<div id="show-details-panel" class="row hide " style="width:100%;height:100%;position:fixed;z-index:9999999999999999999 !important;background-color:#304ffe54;">
        <div class="col s12" style="height:100px"></div>
        <div class="col s12">
            <div class="mytransition col l4 animated offset-l4 s10 offset-s1 white z-depth-5" style="position: relative;">
                <div class="col s12">
                        <div onclick="closeDetPopup()" class="btn z-depth-0  right white black-text position-absolute" style="right:0px;"><i class="fas fa-times    "></i></div>
                    <center>
                        <div class="col s12"><br></div>
                        <h5 class="mrgt50px">DEPOSIT DETAILS</h5>
                        <div id="detbox" class="col s12 ">
                            
                        </div>
                        <div class="col s12"><br><br></div>
                    </center>

                </div>

            </div>
        </div>
</div>
  <div class="row">
        <div class="col s12 grey lighten-3" style="padding-bottom:10px;">
            
            <div class="col s3">
                <div class="input-field white  black-text" style="padding:5px;border:1px solid black">
                    <select id="status" class="White" style="display:none">
                      <option value="" disabled selected>Choose Status</option>
                      <option value="all">All</option>
                      <option value="success">Success</option>
                      <option value="pending">Pending</option>
                      <option value="processing">Processing</option>
                      <option value="cancelled">Cancel</option>
                      <option value="dispute">Dispute</option>
                    </select>
                  </div>

            </div>
            <div class="col s3" style="padding-top:15px;">
                <input id="sdate" placeholder="START DATE" type="text" class="white black-text datepicker " style="padding:5px;border:1px solid black">
            </div>
            <div class="col s3" style="padding-top:15px;">
                <input id="edate" placeholder="END DATE" type="text" class=" white black-text datepicker " style="padding:5px;border:1px solid black">
            </div>

        </div>
        <p>Deposits</p>
        <div class="col s12">
            <table class="striped centered" id="data_table_buy">
                <thead>
                    <tr>
                        <th></th>
                        <th>ID</th>
                        <th>NAME</th>
                        <th>Amount</th>
                        <th>Filled</th>
                        <th>Created</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="data_table_body_buy">

                </tbody>
            </table>
        </div>
        <p>Withdrawals</p>
        
        <div class="col s12">
            <table class="striped centered" id="data_table_sell">
                <thead>
                    <tr>
                        <th></th>
                        <th>ID</th>
                        <th>NAME</th>
                        <th>Amount</th>
                        <th>Filled</th>
                        <th>Created</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="data_table_body_sell">

                </tbody>
            </table>
        </div>
    </div>
{% endblock%}

{% block scripts %}
    {{ super() }}
    <script>
        $('document').ready(function(){
            $('.modal').modal();
            var ary = [];
            var id = '';
            var userid = '';
            var status = $('#status');
            var sdate = $('#sdate');
            var edate = $('#edate');
            var status_type = 'all';
            var end_date = new Date().getTime()+86400000;
            end_date = parseInt(end_date/1000);
            var start_date = new Date().getTime()-(60*86400000);
            start_date = parseInt(start_date/1000);

            status.on('change',function(){
                status_type = $(this).val();
                SendRequest();
            });

            sdate.on('change',function(){
                start_date = new Date($(this).val()).getTime()-(30*86400);
                start_date = parseInt(start_date/1000);
                SendRequest();
            });
            edate.on('change',function(){
                end_date = new Date($(this).val()).getTime()+86400;
                end_date = parseInt(end_date/1000);
                SendRequest();
            });

            $('.datepicker').pickadate();
            $('select').material_select();
            var table_buy = $("#data_table_buy").DataTable({"destroy": true});
            ary[0] = table_buy;
            var table_sell = $("#data_table_sell").DataTable({"destroy": true});
            ary[1] = table_sell;
            SendRequest();

            function SendRequest(){
                var url = location.protocol+'//'+location.hostname + ":" + location.port;
                obj = {'status': 'success', 'filter_by': {'status':status_type,'start':start_date,'end':end_date}}
                $.ajax({
                    url: location.protocol+'//'+location.hostname + ":" + location.port + "/devops/_peers",
                    type: "POST",
                    data: JSON.stringify(obj),
                    contentType: "application/json",
                    success:function(response){
                        for (var i in response.message){
                            flash(response.message[i][0], response.message[i][1]);
                        }
                        full_data = response.data;
                        ary[0].destroy();
                        var data_table_body_query_buy = $('#data_table_body_buy');
                        var data_table_body_buy = document.getElementById('data_table_body_buy');
                        while (data_table_body_buy.hasChildNodes()){
                            data_table_body_buy.removeChild(data_table_body_buy.firstChild);
                        }
                        data = full_data.buy;
                        for (key in data) {
                            data_table_body_query_buy.append('<tr><td><img src="'+ url + '/static/img/' + data[key].currency + '.png">'+ '</td><td>' + data[key].id + '</td><td><a href="' + url + "/devops/user/" + data[key].user_id+ '">' + data[key].name + '</a></td><td>' + data[key].amount + '</td><td>' + data[key].filled + '</td><td>' + data[key].created +'</td><td>' + data[key].status +"<button onclick=showPopup(" + JSON.stringify(data[key].matches) + ")>Details</button>"+ isBoosted(data[key].boost)+"</td></tr>");
                        }
                        var table_buy = $("#data_table_buy").DataTable({"destroy": true});
                        ary[0] = table_buy;
                        ary[1].destroy();
                        var data_table_body_query_sell = $('#data_table_body_sell');
                        var data_table_body_sell = document.getElementById('data_table_body_sell');
                        while (data_table_body_sell.hasChildNodes()){
                            data_table_body_sell.removeChild(data_table_body_sell.firstChild);
                        }
                        data = full_data.sell;
                        for (key in data) {
                            data_table_body_query_sell.append('<tr><td><img src="'+ url + '/static/img/' + data[key].currency + '.png">'+ '</td><td>' + data[key].id + '</td><td><a href="' + url + "/devops/user/" + data[key].user_id+ '">' + data[key].name + '</a></td><td>' + data[key].amount + '</td><td>' + data[key].filled + '</td><td>' + data[key].created +'</td><td>' + data[key].status +"<button onclick=showPopup(" + JSON.stringify(data[key].matches) + ")>Details</button>"+ isBoosted(data[key].boost)+"</td></tr>");
                        }
                        var table_sell = $("#data_table_sell").DataTable({"destroy": true});
                        ary[1] = table_sell;
                        $("#loading").hide();
                    },
                    error:function(data){
                        // console.log(data);
                        for (var i in data.message){
                            flash(data.message[i][0], data.message[i][1]);
                        }
                        console.log(data)
                    },
                    beforeSend:function(data){
                        $("#loading").show();
                    }
                });
            }

        });

        function isBoosted(b){
            return (b>0)?"<i class='material-icons green-text text-accent-2'>grade</i>":"";

        }

        function showPopup(p) {
            console.log(p);
            let url= location.protocol+'//'+location.hostname + ":" + location.port + "/devops/user/"
            $('#detbox').empty();
            Object.keys(p).forEach(k => {
                if (p[k].hasOwnProperty('vol'))
                p[k]['vol'] = p[k]['vol']/10000
                let user_id = p[k]['user_id'];
                delete p[k]['user_id']
                let user = p[k]['user'];
                delete p[k]['user']
                let time = p[k]['time'];
                delete p[k]['time']
                $('#detbox').append(`
                <div class="ui message" style="margin:5px;">
                MATCHED BY ID => <a href="` + url + user_id + `"> ` + user + '(' + k + ')' +`</a><br>`+ JSON.stringify(p[k])+ " ends in " + Math.floor(time/60) + " minutes" + `
                </div>
                `);
                
            })

            $('#show-details-panel').removeClass('hide');
        }
        function closeDetPopup(){
            $('#show-details-panel').addClass('hide');
        }
    </script>
{% endblock scripts %}
    

   

    






    <!-- FOOTER START -->
    <footer class="page-footer green accent-1" style="position:relative;bottom:0px;width:100%;background:-webkit-linear-gradient(180deg,rgb(46,49,146) 0%,rgb(41,171,226) 100%);">
        <div class="row">
            <div class="col l12 s12 center">
                <div class="center container">
                    <h4>
                        <p>Make your first digital currency purchase today at</p>
                    </h4>
                    <div class="col s12">
                        <center>
                            <img class="col l4 offset-l4 s12" src="images/logo.png" alt="">
                        </center>
                    </div>
                    <div class="col l6 offset-l3 s12" style="padding:0px 0px 5px 10px;border-radius:10px;border:5px solid rgba(255,255,255,0.0);background-color:rgba(0,0,0,0.0);">
                        <input id="subscribe-footer-name" name="email" placeholder="Email" type="text" class="center-align ui white col l7 m8 s11 validate black-text"
                            style="margin-top:15px;padding:2px;border:none;border-radius:3px;">

                        <button class="ui button green accent-3 col l4 m3 s11 show-on-medium-and-up hide-on-small-only" style="margin-top:15px;padding:17px;margin-left:10px;border:none;border-radius:3px;"
                            id="subscribe-footer">CONNECT</button>
                        <button class="ui button green accent-3 col s11 show-on-small hide-on-med-and-up" style="padding:17px;border:none;border-radius:3px;"
                            id="subscribe-footer">CONNECT</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="divider"></div>
        <div class="row">
            <div class="col s11 offset-s1 m12">

            </div>
            <div class="col l1 hide-on-med-and-down"></div>
            <div class="col l2 m2 s12">
                <p>
                    <b>Get Connected</b>
                </p>
                <p>
                    <i class="fa fa-phone fa-1x"></i>+911140392029</p>
                <p>
                    <i class="fa fa-phone fa-1x"></i>+911140392797</p>

                <a class="white-text" href="https://buyucoin.freshdesk.com/support/tickets/new">
                    <p>
                        <i class="fa fa-ticket-alt fa-1x"></i>&nbsp;BuyCoin Freshdesk Support</p>
                </a>
                <br>
                <br>
            </div>
            <div class="col l3 m3 s12">
                <p>
                    <b>Products</b>
                </p>
                <a class="white-text" href="">
                    <p>Spot Buy/Sell Digital Currency</p>
                </a>
                <a class="white-text" href="">
                    <p>Open Order Book Trading Engine </p>
                </a>
                <a class="white-text" href="">
                    <p>BuyUcoin Merchant API</p>
                </a>
                <a class="white-text" href="">
                    <p>BuyUcoin Blockchain</p>
                </a>
            </div>
            <div class="col l2 m2 s12">
                <p>
                    <b>Learn</b>
                </p>
                <a class="white-text" href="">
                    <p>Bitcoin</p>
                </a>
                <a class="white-text" href="">
                    <p>Ethereum</p>
                </a>
                <a class="white-text" href="">
                    <p>Ripple</p>
                </a>
                <a class="white-text" href="">
                    <p>NEO</p>
                </a>
                <a class="white-text" href="">
                    <p>Supported Cryptocurrency on BuyUcoin</p>
                </a>


            </div>
            <div class="col l2 m2 s12">
                <p>
                    <b>Company</b>
                </p>
                <a class="white-text" href="">
                    <p>About</p>
                </a>
                <a class="white-text" href="">
                    <p>Our Story</p>
                </a>
                <a class="white-text" href="">
                    <p>Team</p>
                </a>
                <a class="white-text" href="">
                    <p>Security Measures</p>
                </a>
                <a class="white-text" href="">
                    <p>Contact Us </p>
                </a>
            </div>
            <div class="col l2 m3 s12">
                <p>
                    <b>Social</b>
                </p>
                <a href="https://www.linkedin.com/company/buyucoin" target="_blank" class="white-text">
                    <i class="fab fa-linkedin-in fa-2x" data-fa-transform="shrink-4.7 " data-fa-mask="fas fa-circle"></i>
                </a>
                <a href="https://en.wikipedia.org/wiki/BuyUcoin" target="_blank" class="white-text">
                    <i class="fab fa-wikipedia-w fa-2x" data-fa-transform="shrink-4.7 " data-fa-mask="fas fa-circle"></i>
                </a>
                <a href="https://www.facebook.com/BuyUcoin/" target="_blank" class="white-text">
                    <i class="fab fa-facebook-f fa-2x" data-fa-transform="shrink-4.7 " data-fa-mask="fas fa-circle"></i>
                </a>
                <a href="https://twitter.com/buyucoin" target="_blank" class="white-text">
                    <i class="fab fa-twitter fa-2x" data-fa-transform="shrink-4.7 " data-fa-mask="fas fa-circle"></i>
                </a>
                <a href="https://instagram.com/BuyUcoin" target="_blank" class="white-text">
                    <i class="fab fa-instagram fa-2x" data-fa-transform="shrink-4.7 " data-fa-mask="fas fa-circle"></i>
                </a>
                <br>
                <a href="" class="white-text">
                    <p>Join Our 15K+ Strong Community On
                        <br> Facebook,Twitter,
                        <br> Instagram and Wikipedia
                    </p>
                </a>
            </div>

        </div>
        <div class="footer-copyright">
            <div class="container hide-on-med-and-down">
                © Copyright 2017 - iBlock Technologies Pvt. Ltd.
                <a href="/refund-policy" class="white-text right" target="_blank">&nbsp;Refund Policy </a>
                <a href="/privacy-policy" class="white-text right" target="_blank">&nbsp;Privacy Policy | </a>
                <a href="/terms-conditions" class="white-text right" target="_blank">Terms & Condition | </a>

            </div>
            <div class="container show-on-small-only hide-on-med-and-up">
                © Copyright 2017 - iBlock Technologies Pvt. Ltd.
                <br>
                <a href="/refund-policy" class="white-text" target="_blank">&nbsp;Refund Policy</a>
                <a href="/privacy-policy" class="white-text" target="_blank">&nbsp;Privacy Policy | </a>
                <a href="/terms-conditions" class="white-text" target="_blank">Terms & Condition | </a>
            </div>
        </div>
    </footer>

    <!-- FOOTER END -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
    <script type="text/javascript" src="js/navbar.js"></script>
    <script>
            $('document').ready(function(){
                $('.modal').modal();
                var ary = [];
                var id = '';
                var status_type = 'all';
                var end_date = new Date().getTime()+86400000;
                end_date = parseInt(end_date/1000);
                var start_date = new Date().getTime()-(60*86400000);
                start_date = parseInt(start_date/1000);
    
                
    
                $('.datepicker').pickadate();
                $('select').material_select();
    
                SendRequest();
    
                function SendRequest(){
                    var url = location.protocol+'//'+location.hostname + ":" + location.port;
                    obj = {'status': 'success', 'filter_by': {'status':status_type,'start':start_date,'end':end_date}}
                    $.ajax({
                        url: url+"/devops/_peers",
                        type: "POST",
                        data: JSON.stringify(obj),
                        contentType: "application/json",
                        success:function(response){
                            
                        },
                        error:function(data){
                            // console.log(data);
                            for (var i in data.message){
                                flash(data.message[i][0], data.message[i][1]);
                            }
                            console.log(data)
                        },
                        beforeSend:function(data){
                            $("#loading").show();
                        }
                    });
                }
    
            });
    
            function showPopup(p) {
                console.log(p);
                let url= location.protocol+'//'+location.hostname + ":" + location.port + "/devops/user/"
                $('#detbox').empty();
                Object.keys(p).forEach(k => {
                    if (p[k].hasOwnProperty('vol'))
                    p[k]['vol'] = p[k]['vol']/10000
                    let user_id = p[k]['user_id'];
                    delete p[k]['user_id']
                    let user = p[k]['user'];
                    delete p[k]['user']
                    let time = p[k]['time'];
                    delete p[k]['time']
                    $('#detbox').append(`
                    <div class="ui message" style="margin:5px;">
                    MATCHED BY ID => <a href="` + url + user_id + `"> ` + user + '(' + k + ')' +`</a><br>`+ JSON.stringify(p[k])+ " ends in " + Math.floor(time/60) + " minutes" + `
                    </div>
                    `);
                    
                })
    
                $('#show-details-panel').removeClass('hide');
            }
            function closeDetPopup(){
                $('#show-details-panel').addClass('hide');
            }
       
        var ALL_DATA = null;
        $(document).ready(function () {
            $('ul.tabs').tabs('select_tab', 'mylisting');
            $('select').material_select();
            allmatches_ajax();
        });
   
        function allmatches_ajax(){
            $.ajax({
                url:"/MOCK_DATA.json",
                method:'GET',
                success:function(data){
                    // console.log(data);
                    ALL_DATA  = data;
                    createMacthes(data);
                }
            });
        }


        function createMacthes(data){
            $('#allmatches').empty();
            for(i in data){
                $('#allmatches').append(`
                <div class="col s12" style="height:10px"></div>
                    <div class="col l2 s12">
                        <div class="ui label white">
                            <b class="black-text">`+data[i].date+`</b>
                        </div>
                    </div>
                    <div class="col l2 s12">
                        <div class="ui label white">
                            <b class="black-text">`+data[i].depositer+`</b>
                        </div>
                    </div>
                    <div class="col l2 s12">
                        <div class="ui label white black-text">
                            <b>`+data[i].withdrawer+`</b>
                        </div>
                    </div>
                    <div class="col l2 s12">
                        <div class="ui label white black-text">
                                `+data[i].matched_amt+`
                        </div>
                    </div>
                    <div class="col l2 s12">
                        <div class="ui label white black-text">
                                `+data[i].status+`
                        </div>
                    </div>
                    <div class="col l2 s12">
                        <div  class="ui mini button blue white-text">
                            SEE DETAILS
                        </div>
                    </div>
                    <div class="col s12" style="height:10px"></div>
                `);
            }
        }
    
        function filterbyStatus(el){
            var b = (el.val()=="true"?true:false);
            var FBS = ALL_DATA.filter(x=>x.status==b);
            
        }
    
    </script>

</body>

</html>